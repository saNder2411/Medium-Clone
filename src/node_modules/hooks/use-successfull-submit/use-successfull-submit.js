import {useState, useEffect} from 'react';
import useLocalStorage from 'hooks/use-local-storage/use-local-storage';


const useSuccessfullSubmit = (data) => {
  const [isSuccessfullSubmit, setIsSuccessfullSubmit] = useState(false);
  const [, setToken] = useLocalStorage(`token`);

  useEffect(() => {
    if (data) {
      setToken(data.user.token);
      setIsSuccessfullSubmit(true);
    }
  }, [data, setToken]);

  return isSuccessfullSubmit;
};

export default useSuccessfullSubmit;