import React, {useState, useMemo} from 'react';
import Auth from 'pages/auth/auth';
import {useLogInUser} from 'hooks/use-service/use-service';


const AuthContainer = () => {
  const [email, setEmail] = useState(``);
  const [password, setPassword] = useState(``);
  const userData = useMemo(() => ({
    data: {
      user: {email, password},
    },
  }), [email, password]);

  const [{isLoading, data, error}, doRequest] = useLogInUser(userData);
  console.log(`isLod`, isLoading);
  console.log(`data`, data);
  console.log(`err`, error);


  const handleFormSubmit = (evt) => {
    evt.preventDefault();
    doRequest();
  };

  return (
    <Auth
      email={email}
      password={password}
      isLoading={isLoading}
      setEmail={setEmail}
      setPassword={setPassword}
      onFormSubmit={handleFormSubmit} />);
};

export default AuthContainer;